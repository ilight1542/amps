# README 
### by Felix M Key

Contact the author at key [at] shh [dot] mpg [dot] de for any questions about this code
or correspondence about this work.

This project is licensed under the terms of the CC BY.

This README provides an overview about the postprocessing module of AMPS presented in:
Huebler, Key et al. XXX
Please cite this paper if any meaningful piece of the AMPS software is used.

Enjoy!


## Requirements:
* R (tested on version 3.3.1 +)
* R libraries:
	* parallel
	* getopt
	* gridBase
	* gridExtra

## Overview:
Postprocessing has to be done on the output data generated by AMPS::MALTextract (beta v1.3+). It iterates over relevant files produced, and summarises potential positive hits in a heatmap and detailled profile-pdfs (please also see profilePDF_explained.pdf).

## Example of usage:

### Help menu:
```
./postprocessing.AMPS.r -h

Usage: ./postprocessing.AMPS.r [-[-rmaex.out.fld|r] <character>] [-[-maltex.filter|m] [<character>]] [-[-threads|t] <double>] [-[-help|h]] [-[-node.list|n] <character>]
    -r|--rmaex.out.fld    MALTextract output folder.
    -m|--maltex.filter    MALTextract filter mode: <default,def_anc>. This script is not designed for 'scan' output. Default: <def_anc>.
    -t|--threads          Max number of cores used.
    -h|--help             Print this help.
    -n|--node.list        List (\n separated) of nodes to be reported on (aka input species/node list used for MALTextract).
```

### Example command:
```
~/Documents/shh/sysEva/scripts/amps/postprocessing.v5.r \
-m def_anc \ 
-r AMPS/output/folder \
-t 16 \
-n /projects1/users/key/anc5h/soi.backup/List_of_pathogens_KB_fmk12_wViruses1.txt
```